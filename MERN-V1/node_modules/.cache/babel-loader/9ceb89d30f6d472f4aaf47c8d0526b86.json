{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar shape_1 = __importDefault(require(\"./common/shape\"));\n\nvar utils_1 = require(\"./utils/index\");\n\nvar constants_1 = require(\"./common/constants\");\n\nvar Snow =\n/** @class */\nfunction (_super) {\n  __extends(Snow, _super);\n\n  function Snow(selector, options) {\n    var _this = _super.call(this, Snow.defaultConfig, selector, options) || this; // 下雪的开始时间\n\n\n    _this.startTime = Date.now(); // 当存在持续时间参数时，雪花是否全部降落\n\n    _this.isFinished = false;\n\n    _this.bootstrap();\n\n    return _this;\n  }\n  /**\n   * 初始化数据和运行程序\n   */\n\n\n  Snow.prototype.init = function () {\n    this.createSnowflakes();\n  };\n  /**\n   * 创建单个雪花，包含大小、位置、速度等信息\n   */\n\n\n  Snow.prototype.createSnowflake = function () {\n    var _a = this.options,\n        maxR = _a.maxR,\n        minR = _a.minR,\n        maxSpeed = _a.maxSpeed,\n        minSpeed = _a.minSpeed;\n    var r = utils_1.randomInRange(maxR, minR);\n    return {\n      r: r,\n      x: Math.random() * this.canvasWidth,\n      y: -r,\n      vx: utils_1.randomSpeed(maxSpeed, minSpeed),\n      // 半径越大，垂直速度越快，这样比较有近快远慢的层次效果\n      vy: Math.abs(r * utils_1.randomSpeed(maxSpeed, minSpeed)),\n      color: this.getColor(),\n      swingAt: Date.now(),\n      shape: this.getShapeData()\n    };\n  };\n  /**\n   * 随机创建雪花\n   */\n\n\n  Snow.prototype.createSnowflakes = function () {\n    var count = Math.max(0, Math.ceil(Math.random() * this.options.num));\n\n    while (count--) {\n      this.elements.push(this.createSnowflake());\n    }\n  };\n  /**\n   * 绘图\n   * 设计一种模式（解耦逻辑混杂），当触发 resize 事件调用 draw 方法时：\n   *   如果是暂停 -> 调用 elements 的重新绘制 drawShape()\n   *   如果是运动中 -> 正常逻辑，内部不考虑暂停逻辑\n   */\n\n\n  Snow.prototype.draw = function () {\n    var _this = this;\n\n    var _a = this,\n        canvasWidth = _a.canvasWidth,\n        canvasHeight = _a.canvasHeight,\n        isPaused = _a.isPaused;\n\n    var _b = this.options,\n        maxR = _b.maxR,\n        swing = _b.swing,\n        swingInterval = _b.swingInterval,\n        swingProbability = _b.swingProbability,\n        duration = _b.duration;\n    this.clearCanvasAndSetGlobalAttrs();\n    this.elements.forEach(function (snowflake, i, array) {\n      var x = snowflake.x,\n          y = snowflake.y,\n          r = snowflake.r;\n\n      _this.drawShape(snowflake); // 暂停(isPaused)且窗口改变(resize)的时候也会调用绘图方法\n      // 所以需要运动的判断需要在内部\n\n\n      if (isPaused) {\n        return;\n      }\n\n      snowflake.x += snowflake.vx;\n      snowflake.y += snowflake.vy; // 变换飘落方向，根据一定的几率\n\n      if (swing && Date.now() - snowflake.swingAt > swingInterval && // 半径越小，变换几率越小\n      Math.random() < r / maxR * swingProbability) {\n        snowflake.swingAt = Date.now();\n        snowflake.vx *= -1;\n      }\n\n      if (x + r < 0 || x - r > canvasWidth) {\n        // 雪花从侧边出去 => 删除\n        // 有持续时间 ? 不添加 : 添加一个新雪花\n        duration ? array.splice(i, 1) : array.splice(i, 1, _this.createSnowflake());\n      } else if (y - r > canvasHeight) {\n        // 雪花从底部出去 => 删除\n        array.splice(i, 1);\n      }\n    });\n\n    if (isPaused) {\n      return;\n    } // 当有 duration 参数时，判断持续时间是否用完\n    // 没有 duration 参数时，一直可用\n\n\n    var timeEnd = duration ? Date.now() - this.startTime > duration : false;\n\n    if (!timeEnd && Math.random() > 0.9) {\n      // 添加雪花\n      this.createSnowflakes();\n    }\n\n    if (this.elements.length) {\n      this.requestAnimationFrame();\n    } else {\n      this.isFinished = true;\n      this.eventEmitter.trigger(constants_1.EVENT_NAMES_SNOW.FINISHED);\n    }\n  };\n  /**\n   * 方法：当存在持续时间时，再次下雪\n   */\n\n\n  Snow.prototype.fallAgain = function () {\n    if (this.isRunningSupported && !this.isCanvasRemoved && !this.isPaused && this.isFinished) {\n      this.isFinished = false;\n      this.startTime = Date.now();\n      this.createSnowflakes();\n      this.draw();\n    }\n  };\n  /**\n   * 事件：当存在持续时间时，雪花全部降落后触发的事件\n   */\n\n\n  Snow.prototype.onFinished = function () {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES_SNOW.FINISHED], args));\n\n    return this;\n  };\n\n  Snow.defaultConfig = {\n    num: 6,\n    color: '#fff',\n    maxR: 6.5,\n    minR: 0.5,\n    maxSpeed: 0.6,\n    minSpeed: 0.1,\n    swing: true,\n    swingInterval: 2000,\n    swingProbability: 0.06\n  };\n  return Snow;\n}(shape_1.default);\n\nexports.default = Snow;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__spreadArray","to","from","i","il","length","j","__importDefault","mod","__esModule","defineProperty","exports","value","shape_1","require","utils_1","constants_1","Snow","_super","selector","options","_this","defaultConfig","startTime","Date","now","isFinished","bootstrap","init","createSnowflakes","createSnowflake","_a","maxR","minR","maxSpeed","minSpeed","r","randomInRange","x","Math","random","canvasWidth","y","vx","randomSpeed","vy","abs","color","getColor","swingAt","shape","getShapeData","count","max","ceil","num","elements","push","draw","canvasHeight","isPaused","_b","swing","swingInterval","swingProbability","duration","clearCanvasAndSetGlobalAttrs","forEach","snowflake","array","drawShape","splice","timeEnd","requestAnimationFrame","eventEmitter","trigger","EVENT_NAMES_SNOW","FINISHED","fallAgain","isRunningSupported","isCanvasRemoved","onFinished","args","_i","arguments","on","apply","default"],"sources":["/Users/roy/Desktop/drajm-site/node_modules/jparticles/lib/snow.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shape_1 = __importDefault(require(\"./common/shape\"));\nvar utils_1 = require(\"./utils/index\");\nvar constants_1 = require(\"./common/constants\");\nvar Snow = /** @class */ (function (_super) {\n    __extends(Snow, _super);\n    function Snow(selector, options) {\n        var _this = _super.call(this, Snow.defaultConfig, selector, options) || this;\n        // 下雪的开始时间\n        _this.startTime = Date.now();\n        // 当存在持续时间参数时，雪花是否全部降落\n        _this.isFinished = false;\n        _this.bootstrap();\n        return _this;\n    }\n    /**\n     * 初始化数据和运行程序\n     */\n    Snow.prototype.init = function () {\n        this.createSnowflakes();\n    };\n    /**\n     * 创建单个雪花，包含大小、位置、速度等信息\n     */\n    Snow.prototype.createSnowflake = function () {\n        var _a = this.options, maxR = _a.maxR, minR = _a.minR, maxSpeed = _a.maxSpeed, minSpeed = _a.minSpeed;\n        var r = utils_1.randomInRange(maxR, minR);\n        return {\n            r: r,\n            x: Math.random() * this.canvasWidth,\n            y: -r,\n            vx: utils_1.randomSpeed(maxSpeed, minSpeed),\n            // 半径越大，垂直速度越快，这样比较有近快远慢的层次效果\n            vy: Math.abs(r * utils_1.randomSpeed(maxSpeed, minSpeed)),\n            color: this.getColor(),\n            swingAt: Date.now(),\n            shape: this.getShapeData(),\n        };\n    };\n    /**\n     * 随机创建雪花\n     */\n    Snow.prototype.createSnowflakes = function () {\n        var count = Math.max(0, Math.ceil(Math.random() * this.options.num));\n        while (count--) {\n            this.elements.push(this.createSnowflake());\n        }\n    };\n    /**\n     * 绘图\n     * 设计一种模式（解耦逻辑混杂），当触发 resize 事件调用 draw 方法时：\n     *   如果是暂停 -> 调用 elements 的重新绘制 drawShape()\n     *   如果是运动中 -> 正常逻辑，内部不考虑暂停逻辑\n     */\n    Snow.prototype.draw = function () {\n        var _this = this;\n        var _a = this, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, isPaused = _a.isPaused;\n        var _b = this.options, maxR = _b.maxR, swing = _b.swing, swingInterval = _b.swingInterval, swingProbability = _b.swingProbability, duration = _b.duration;\n        this.clearCanvasAndSetGlobalAttrs();\n        this.elements.forEach(function (snowflake, i, array) {\n            var x = snowflake.x, y = snowflake.y, r = snowflake.r;\n            _this.drawShape(snowflake);\n            // 暂停(isPaused)且窗口改变(resize)的时候也会调用绘图方法\n            // 所以需要运动的判断需要在内部\n            if (isPaused) {\n                return;\n            }\n            snowflake.x += snowflake.vx;\n            snowflake.y += snowflake.vy;\n            // 变换飘落方向，根据一定的几率\n            if (swing &&\n                Date.now() - snowflake.swingAt > swingInterval &&\n                // 半径越小，变换几率越小\n                Math.random() < (r / maxR) * swingProbability) {\n                snowflake.swingAt = Date.now();\n                snowflake.vx *= -1;\n            }\n            if (x + r < 0 || x - r > canvasWidth) {\n                // 雪花从侧边出去 => 删除\n                // 有持续时间 ? 不添加 : 添加一个新雪花\n                duration\n                    ? array.splice(i, 1)\n                    : array.splice(i, 1, _this.createSnowflake());\n            }\n            else if (y - r > canvasHeight) {\n                // 雪花从底部出去 => 删除\n                array.splice(i, 1);\n            }\n        });\n        if (isPaused) {\n            return;\n        }\n        // 当有 duration 参数时，判断持续时间是否用完\n        // 没有 duration 参数时，一直可用\n        var timeEnd = duration ? Date.now() - this.startTime > duration : false;\n        if (!timeEnd && Math.random() > 0.9) {\n            // 添加雪花\n            this.createSnowflakes();\n        }\n        if (this.elements.length) {\n            this.requestAnimationFrame();\n        }\n        else {\n            this.isFinished = true;\n            this.eventEmitter.trigger(constants_1.EVENT_NAMES_SNOW.FINISHED);\n        }\n    };\n    /**\n     * 方法：当存在持续时间时，再次下雪\n     */\n    Snow.prototype.fallAgain = function () {\n        if (this.isRunningSupported &&\n            !this.isCanvasRemoved &&\n            !this.isPaused &&\n            this.isFinished) {\n            this.isFinished = false;\n            this.startTime = Date.now();\n            this.createSnowflakes();\n            this.draw();\n        }\n    };\n    /**\n     * 事件：当存在持续时间时，雪花全部降落后触发的事件\n     */\n    Snow.prototype.onFinished = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES_SNOW.FINISHED], args));\n        return this;\n    };\n    Snow.defaultConfig = {\n        num: 6,\n        color: '#fff',\n        maxR: 6.5,\n        minR: 0.5,\n        maxSpeed: 0.6,\n        minSpeed: 0.1,\n        swing: true,\n        swingInterval: 2000,\n        swingProbability: 0.06,\n    };\n    return Snow;\n}(shape_1.default));\nexports.default = Snow;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}