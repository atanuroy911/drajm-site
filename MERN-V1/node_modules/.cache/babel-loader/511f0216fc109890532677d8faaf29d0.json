{"ast":null,"code":"\"use strict\";\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./polyfill\");\n\nvar config_1 = __importDefault(require(\"./config\"));\n\nvar constants_1 = require(\"./constants\");\n\nvar events_1 = __importDefault(require(\"./events\"));\n\nvar utils_1 = require(\"../utils/index\");\n\nvar Base =\n/** @class */\nfunction () {\n  function Base(defaultConfig, selector, options) {\n    // （粒子）数据集\n    this.elements = []; // Canvas 是否从 DOM 中移除了\n\n    this.isCanvasRemoved = false; // 是否暂停运动了\n\n    this.isPaused = false; // 事件中心，文档参考 https://taro-docs.jd.com/taro/docs/apis/about/events/\n\n    this.eventEmitter = new events_1.default(); // 特效是否支持运行\n\n    this.isRunningSupported = false; // 对于不支持运行特效的浏览器（如 IE8）将不支持创建特效\n\n    if (!constants_1.isRuntimeSupported) return;\n    this.container = utils_1.isElement(selector) ? selector : document.querySelector(selector);\n    this.isRunningSupported = !!this.container;\n\n    if (this.container) {\n      this.options = utils_1.merge({}, config_1.default, defaultConfig, options);\n      this.canvas = document.createElement('canvas');\n      this.ctx = this.canvas.getContext('2d');\n      this.container.innerHTML = '';\n      this.container.appendChild(this.canvas); // 缓存颜色获取函数，提高性能\n\n      this.getColor = this.makeColorMethod();\n    }\n  }\n  /**\n   * 引导程序\n   */\n\n\n  Base.prototype.bootstrap = function () {\n    if (this.isRunningSupported) {\n      this.setCanvasDimension();\n      this.observeCanvasRemoved();\n      this.resizeEvent();\n      this.init();\n      this.draw();\n    }\n  };\n  /**\n   * 清除整个画布\n   */\n\n\n  Base.prototype.clearCanvasAndSetGlobalAttrs = function () {\n    var _a = this,\n        ctx = _a.ctx,\n        canvasWidth = _a.canvasWidth,\n        canvasHeight = _a.canvasHeight;\n\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n    ctx.globalAlpha = this.options.opacity;\n  };\n  /**\n   * 生成 \"getColor\" 函数\n   */\n\n\n  Base.prototype.makeColorMethod = function () {\n    var color = this.options.color;\n    var colorLength = Array.isArray(color) ? color.length : 0;\n\n    if (utils_1.isString(color)) {\n      return function () {\n        return color;\n      };\n    }\n\n    if (colorLength === 0) {\n      return utils_1.randomColor;\n    }\n\n    return function () {\n      return color[Math.floor(Math.random() * colorLength)];\n    };\n  };\n  /**\n   * 设置画布尺寸\n   */\n\n\n  Base.prototype.setCanvasDimension = function () {\n    var dpr = window.devicePixelRatio;\n    var width = utils_1.getNumberValueOfStyle(this.container, 'width') || constants_1.defaultCanvasWidth;\n    var height = utils_1.getNumberValueOfStyle(this.container, 'height') || constants_1.defaultCanvasHeight;\n    this.canvasWidth = width;\n    this.canvasHeight = height; // 设置设备分辨率，防止在高清屏显示模糊（Mac OS）\n\n    this.canvas.width = width * dpr;\n    this.canvas.height = height * dpr;\n    this.canvas.style.width = width + 'px';\n    this.canvas.style.height = height + 'px';\n    this.ctx.scale(dpr, dpr);\n  };\n  /**\n   * 监听画布从 DOM 中被移除时，做后期清理操作，如销毁事件等\n   */\n\n\n  Base.prototype.observeCanvasRemoved = function () {\n    var _this = this;\n\n    utils_1.observeElementRemoved(this.canvas, function () {\n      // 当 Canvas 从 DOM 中被移除\n      // 1、停止 requestAnimationFrame，避免性能损耗\n      _this.isCanvasRemoved = true; // 2、移除绑定事件\n\n      if (_this.resizeHandler) {\n        window.removeEventListener('resize', _this.resizeHandler);\n      } // 3、触发销毁回调事件\n\n\n      _this.eventEmitter.trigger(constants_1.EVENT_NAMES.DESTROY); // 4、移除所有事件\n\n\n      _this.eventEmitter.off();\n    });\n  };\n  /**\n   * 简单包装 window.requestAnimationFrame\n   */\n\n\n  Base.prototype.requestAnimationFrame = function () {\n    if (!this.isPaused && !this.isCanvasRemoved) {\n      window.requestAnimationFrame(this.draw.bind(this));\n    }\n  };\n  /**\n   * 窗口尺寸调整事件\n   */\n\n\n  Base.prototype.resizeEvent = function () {\n    var _this = this;\n\n    if (this.options.resize) {\n      // 窗口尺寸改变处理函数，对应调整（粒子）位置\n      this.resizeHandler = function () {\n        var preCW = _this.canvasWidth;\n        var preCH = _this.canvasHeight; // 重设画布尺寸\n\n        _this.setCanvasDimension(); // 缩放比例\n\n\n        var scaleX = _this.canvasWidth / preCW;\n        var scaleY = _this.canvasHeight / preCH; // 通用处理逻辑，重新计算粒子坐标\n\n        _this.elements.forEach(function (element) {\n          if (utils_1.isPlainObject(element)) {\n            ;\n            element.x *= scaleX;\n            element.y *= scaleY;\n          }\n        }); // 触发窗口缩放事件，可自定义更多逻辑\n\n\n        _this.eventEmitter.trigger(constants_1.EVENT_NAMES.RESIZE, scaleX, scaleY);\n\n        _this.isPaused && _this.draw();\n      };\n\n      window.addEventListener('resize', this.resizeHandler);\n    }\n  };\n  /**\n   * 暂停运动\n   */\n\n\n  Base.prototype.pause = function () {\n    if (this.isRunningSupported && !this.isCanvasRemoved && !this.isPaused) {\n      this.isPaused = true;\n    }\n  };\n  /**\n   * 开启运动\n   */\n\n\n  Base.prototype.open = function () {\n    if (this.isRunningSupported && !this.isCanvasRemoved && this.isPaused) {\n      this.isPaused = false;\n      this.draw();\n    }\n  };\n  /**\n   * 当 Canvas 从 DOM 中移除时触发的销毁回调事件\n   * @param args 参数集合\n   */\n\n\n  Base.prototype.onDestroy = function () {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.DESTROY], args)); // 让事件支持链式操作\n\n\n    return this;\n  };\n  /**\n   * 窗口尺寸改变时触发的回调事件\n   * @param args 参数集合\n   */\n\n\n  Base.prototype.onResize = function () {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.RESIZE], args)); // 让事件支持链式操作\n\n\n    return this;\n  };\n\n  return Base;\n}();\n\nexports.default = Base;","map":{"version":3,"names":["__spreadArray","to","from","i","il","length","j","__importDefault","mod","__esModule","Object","defineProperty","exports","value","require","config_1","constants_1","events_1","utils_1","Base","defaultConfig","selector","options","elements","isCanvasRemoved","isPaused","eventEmitter","default","isRunningSupported","isRuntimeSupported","container","isElement","document","querySelector","merge","canvas","createElement","ctx","getContext","innerHTML","appendChild","getColor","makeColorMethod","prototype","bootstrap","setCanvasDimension","observeCanvasRemoved","resizeEvent","init","draw","clearCanvasAndSetGlobalAttrs","_a","canvasWidth","canvasHeight","clearRect","globalAlpha","opacity","color","colorLength","Array","isArray","isString","randomColor","Math","floor","random","dpr","window","devicePixelRatio","width","getNumberValueOfStyle","defaultCanvasWidth","height","defaultCanvasHeight","style","scale","_this","observeElementRemoved","resizeHandler","removeEventListener","trigger","EVENT_NAMES","DESTROY","off","requestAnimationFrame","bind","resize","preCW","preCH","scaleX","scaleY","forEach","element","isPlainObject","x","y","RESIZE","addEventListener","pause","open","onDestroy","args","_i","arguments","on","apply","onResize"],"sources":["/Users/roy/Desktop/drajm-site/node_modules/jparticles/lib/common/base.js"],"sourcesContent":["\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./polyfill\");\nvar config_1 = __importDefault(require(\"./config\"));\nvar constants_1 = require(\"./constants\");\nvar events_1 = __importDefault(require(\"./events\"));\nvar utils_1 = require(\"../utils/index\");\nvar Base = /** @class */ (function () {\n    function Base(defaultConfig, selector, options) {\n        // （粒子）数据集\n        this.elements = [];\n        // Canvas 是否从 DOM 中移除了\n        this.isCanvasRemoved = false;\n        // 是否暂停运动了\n        this.isPaused = false;\n        // 事件中心，文档参考 https://taro-docs.jd.com/taro/docs/apis/about/events/\n        this.eventEmitter = new events_1.default();\n        // 特效是否支持运行\n        this.isRunningSupported = false;\n        // 对于不支持运行特效的浏览器（如 IE8）将不支持创建特效\n        if (!constants_1.isRuntimeSupported)\n            return;\n        this.container = utils_1.isElement(selector)\n            ? selector\n            : document.querySelector(selector);\n        this.isRunningSupported = !!this.container;\n        if (this.container) {\n            this.options = utils_1.merge({}, config_1.default, defaultConfig, options);\n            this.canvas = document.createElement('canvas');\n            this.ctx = this.canvas.getContext('2d');\n            this.container.innerHTML = '';\n            this.container.appendChild(this.canvas);\n            // 缓存颜色获取函数，提高性能\n            this.getColor = this.makeColorMethod();\n        }\n    }\n    /**\n     * 引导程序\n     */\n    Base.prototype.bootstrap = function () {\n        if (this.isRunningSupported) {\n            this.setCanvasDimension();\n            this.observeCanvasRemoved();\n            this.resizeEvent();\n            this.init();\n            this.draw();\n        }\n    };\n    /**\n     * 清除整个画布\n     */\n    Base.prototype.clearCanvasAndSetGlobalAttrs = function () {\n        var _a = this, ctx = _a.ctx, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight;\n        ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n        ctx.globalAlpha = this.options.opacity;\n    };\n    /**\n     * 生成 \"getColor\" 函数\n     */\n    Base.prototype.makeColorMethod = function () {\n        var color = this.options.color;\n        var colorLength = Array.isArray(color) ? color.length : 0;\n        if (utils_1.isString(color)) {\n            return function () { return color; };\n        }\n        if (colorLength === 0) {\n            return utils_1.randomColor;\n        }\n        return function () { return color[Math.floor(Math.random() * colorLength)]; };\n    };\n    /**\n     * 设置画布尺寸\n     */\n    Base.prototype.setCanvasDimension = function () {\n        var dpr = window.devicePixelRatio;\n        var width = utils_1.getNumberValueOfStyle(this.container, 'width') || constants_1.defaultCanvasWidth;\n        var height = utils_1.getNumberValueOfStyle(this.container, 'height') || constants_1.defaultCanvasHeight;\n        this.canvasWidth = width;\n        this.canvasHeight = height;\n        // 设置设备分辨率，防止在高清屏显示模糊（Mac OS）\n        this.canvas.width = width * dpr;\n        this.canvas.height = height * dpr;\n        this.canvas.style.width = width + 'px';\n        this.canvas.style.height = height + 'px';\n        this.ctx.scale(dpr, dpr);\n    };\n    /**\n     * 监听画布从 DOM 中被移除时，做后期清理操作，如销毁事件等\n     */\n    Base.prototype.observeCanvasRemoved = function () {\n        var _this = this;\n        utils_1.observeElementRemoved(this.canvas, function () {\n            // 当 Canvas 从 DOM 中被移除\n            // 1、停止 requestAnimationFrame，避免性能损耗\n            _this.isCanvasRemoved = true;\n            // 2、移除绑定事件\n            if (_this.resizeHandler) {\n                window.removeEventListener('resize', _this.resizeHandler);\n            }\n            // 3、触发销毁回调事件\n            _this.eventEmitter.trigger(constants_1.EVENT_NAMES.DESTROY);\n            // 4、移除所有事件\n            _this.eventEmitter.off();\n        });\n    };\n    /**\n     * 简单包装 window.requestAnimationFrame\n     */\n    Base.prototype.requestAnimationFrame = function () {\n        if (!this.isPaused && !this.isCanvasRemoved) {\n            window.requestAnimationFrame(this.draw.bind(this));\n        }\n    };\n    /**\n     * 窗口尺寸调整事件\n     */\n    Base.prototype.resizeEvent = function () {\n        var _this = this;\n        if (this.options.resize) {\n            // 窗口尺寸改变处理函数，对应调整（粒子）位置\n            this.resizeHandler = function () {\n                var preCW = _this.canvasWidth;\n                var preCH = _this.canvasHeight;\n                // 重设画布尺寸\n                _this.setCanvasDimension();\n                // 缩放比例\n                var scaleX = _this.canvasWidth / preCW;\n                var scaleY = _this.canvasHeight / preCH;\n                // 通用处理逻辑，重新计算粒子坐标\n                _this.elements.forEach(function (element) {\n                    if (utils_1.isPlainObject(element)) {\n                        ;\n                        element.x *= scaleX;\n                        element.y *= scaleY;\n                    }\n                });\n                // 触发窗口缩放事件，可自定义更多逻辑\n                _this.eventEmitter.trigger(constants_1.EVENT_NAMES.RESIZE, scaleX, scaleY);\n                _this.isPaused && _this.draw();\n            };\n            window.addEventListener('resize', this.resizeHandler);\n        }\n    };\n    /**\n     * 暂停运动\n     */\n    Base.prototype.pause = function () {\n        if (this.isRunningSupported && !this.isCanvasRemoved && !this.isPaused) {\n            this.isPaused = true;\n        }\n    };\n    /**\n     * 开启运动\n     */\n    Base.prototype.open = function () {\n        if (this.isRunningSupported && !this.isCanvasRemoved && this.isPaused) {\n            this.isPaused = false;\n            this.draw();\n        }\n    };\n    /**\n     * 当 Canvas 从 DOM 中移除时触发的销毁回调事件\n     * @param args 参数集合\n     */\n    Base.prototype.onDestroy = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.DESTROY], args));\n        // 让事件支持链式操作\n        return this;\n    };\n    /**\n     * 窗口尺寸改变时触发的回调事件\n     * @param args 参数集合\n     */\n    Base.prototype.onResize = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.eventEmitter).on.apply(_a, __spreadArray([constants_1.EVENT_NAMES.RESIZE], args));\n        // 让事件支持链式操作\n        return this;\n    };\n    return Base;\n}());\nexports.default = Base;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}